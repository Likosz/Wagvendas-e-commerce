<section class="py-10 md:py-14 bg-dark-50 dark:bg-dark-950">
  <div class="container-custom">
    <header class="mb-8">
      <h1 class="text-3xl md:text-4xl font-bold">Nossos Produtos</h1>
      <p class="text-base text-dark-600 dark:text-dark-400 max-w-2xl">
        Explore nossa seleção completa de produtos com os melhores preços e qualidade garantida.
      </p>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
      <aside class="hidden lg:block lg:col-span-3">
        <app-product-filters (filterChange)="onFilterChange($event)" (closeDrawer)="closeFilters()" />
      </aside>

      <div class="lg:col-span-9">
        <app-product-grid
          [products]="paginatedProducts"
          [loading]="isLoading()"
          [totalProducts]="totalProducts"
          [currentPage]="currentPage"
          [totalPages]="totalPages"
          (pageChange)="onPageChange($event)"
          (sortChange)="onSortChange($event)"
          (addToCart)="onAddToCart($event)"
          (toggleWishlist)="onToggleWishlist($event)"
          (quickView)="onQuickView($event)"
          (openFilters)="openFilters()"
        />
      </div>
    </div>
  </div>
</section>

@if (isFiltersOpen()) {
  <div class="fixed inset-0 z-50 lg:hidden" role="dialog" aria-modal="true" aria-label="Filtros de produtos" (click)="closeFilters()">
    <div class="fixed inset-0 bg-dark-900/80 backdrop-blur-sm" aria-hidden="true"></div>
    <div class="fixed top-0 left-0 bottom-0 w-full max-w-sm bg-white dark:bg-dark-900 overflow-y-auto" (click)="$event.stopPropagation()">
      <app-product-filters (filterChange)="onFilterChange($event)" (closeDrawer)="closeFilters()" />
    </div>
  </div>
}

<app-quick-view-modal [product]="quickViewProduct()" [isOpen]="isQuickViewOpen()" (close)="closeQuickView()" (addToCart)="onQuickViewAddToCart($event)" />

