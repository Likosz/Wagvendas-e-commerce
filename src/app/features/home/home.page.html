<!-- Hero Section -->
<app-hero />

<!-- Categories Carousel -->
<app-categories-carousel />


<!-- Seções de produtos (compactas) -->
<section class="py-12 md:py-16 bg-dark-50 dark:bg-dark-950">
  <div class="container-custom space-y-12">
    <!-- Destaques -->
    <div>
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl md:text-3xl font-semibold">Destaques</h2>
        <a [routerLink]="['/produtos']" class="text-primary-600 hover:text-primary-700">Ver todos</a>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        @for (p of featured.slice(0, 8); track p.id) {
          <app-product-card [product]="p" (addToCart)="onAddToCart($event)" (toggleWishlist)="onToggleWishlist($event)" (quickView)="onQuickView($event)" />
        }
      </div>
    </div>

    <!-- Mais vendidos -->
    <div>
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl md:text-3xl font-semibold">Mais Vendidos</h2>
        <a [routerLink]="['/produtos']" [queryParams]="{ sort: 'bestseller' }" class="text-primary-600 hover:text-primary-700">Ver todos</a>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        @for (p of bestsellers.slice(0, 8); track p.id) {
          <app-product-card [product]="p" (addToCart)="onAddToCart($event)" (toggleWishlist)="onToggleWishlist($event)" (quickView)="onQuickView($event)" />
        }
      </div>
    </div>

    <!-- Novidades -->
    <div>
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl md:text-3xl font-semibold">Novidades</h2>
        <a [routerLink]="['/produtos']" [queryParams]="{ sort: 'newest' }" class="text-primary-600 hover:text-primary-700">Ver todos</a>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        @for (p of news.slice(0, 8); track p.id) {
          <app-product-card [product]="p" (addToCart)="onAddToCart($event)" (toggleWishlist)="onToggleWishlist($event)" (quickView)="onQuickView($event)" />
        }
      </div>
    </div>
  </div>
  </section>


<!-- Mobile Filters Drawer -->
@if (isFiltersOpen()) {
  <div
    class="fixed inset-0 z-50 lg:hidden"
    role="dialog"
    aria-modal="true"
    aria-label="Filtros de produtos"
    (click)="closeFilters()"
  >
    <!-- Backdrop -->
    <div
      class="fixed inset-0 bg-dark-900/80 backdrop-blur-sm"
      aria-hidden="true"
    ></div>

    <!-- Drawer -->
    <div
      class="fixed top-0 left-0 bottom-0 w-full max-w-sm bg-white dark:bg-dark-900 overflow-y-auto"
      (click)="$event.stopPropagation()"
    >
      <app-product-filters
        (filterChange)="onFilterChange($event)"
        (closeDrawer)="closeFilters()"
      ></app-product-filters>
    </div>
  </div>
}

<!-- Quick View Modal -->
<app-quick-view-modal
  [product]="quickViewProduct()"
  [isOpen]="isQuickViewOpen()"
  (close)="closeQuickView()"
  (addToCart)="onQuickViewAddToCart($event)"
></app-quick-view-modal>

<!--
  FUTURAS SEÇÕES (Próximos commits):
  - Produtos em Destaque (Featured Products)
  - Ofertas Relâmpago (Flash Sales)
  - Marcas Parceiras (Partner Brands)
  - Depoimentos (Testimonials)
  - Newsletter (já está no footer)
-->
